<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synote - å¤šäººåä½œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        synote: {
                            bg: '#ffffff',
                            sidebar: '#f7f6f3',
                            border: '#e9e9e7',
                            text: '#37352f',
                            textLight: '#6b6b6b',
                            hover: '#efefef',
                            active: '#e3f2fd',
                            activeText: '#1976d2',
                        }
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer components {
            .sidebar-item {
                @apply flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-synote-textLight hover:bg-synote-hover text-sm;
            }
            .sidebar-item.active {
                @apply bg-synote-active text-synote-activeText;
            }
            .toolbar-btn {
                @apply p-1.5 rounded hover:bg-synote-hover text-synote-textLight;
            }
            .toolbar-btn.active {
                @apply bg-synote-active text-synote-activeText;
            }
            .status-dot {
                @apply w-2 h-2 rounded-full;
            }
            .status-online {
                @apply bg-green-500;
            }
            .status-offline {
                @apply bg-gray-400;
            }
            .status-syncing {
                @apply bg-yellow-500;
            }
            .mention-item {
                @apply flex items-center gap-2 p-2 hover:bg-synote-hover cursor-pointer;
            }
            .outline-item {
                @apply py-1 px-2 rounded-md cursor-pointer text-sm hover:bg-synote-hover;
            }
            .outline-h1 {
                @apply font-semibold;
            }
            .outline-h2 {
                @apply ml-3 text-[13px];
            }
            .outline-h3 {
                @apply ml-6 text-xs text-synote-textLight;
            }
            .modal {
                @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
            }
            .modal-content {
                @apply bg-white rounded-lg shadow-xl max-w-md w-full p-4;
            }
        }
    </style>
</head>
<body class="bg-synote-bg text-synote-text">
    <!-- ä¸»åº”ç”¨å®¹å™¨ -->
    <div class="flex h-screen overflow-hidden" id="app-container">
        <!-- å·¦ä¾§è¾¹æ  -->
        <div id="left-sidebar" class="w-64 bg-synote-sidebar border-r border-synote-border flex flex-col transition-all duration-200 ease-in-out">
            <!-- å·¥ä½œåŒºé€‰æ‹©å™¨ -->
            <div class="p-3 border-b border-synote-border">
                <div class="flex items-center gap-2 p-2 rounded-md cursor-pointer hover:bg-synote-hover">
                    <div class="w-5 h-5 bg-primary-500 rounded flex items-center justify-center text-white text-xs font-semibold">S</div>
                    <span class="flex-1">Synoteå·¥ä½œåŒº</span>
                    <i class="fas fa-chevron-down text-xs"></i>
                </div>
            </div>

            <!-- å¯¼èˆªèœå• -->
            <div class="flex-1 overflow-y-auto p-2">
                <!-- ä¸»å¯¼èˆª -->
                <div class="mb-4">
                    <div class="sidebar-item active">
                        <i class="fas fa-home"></i>
                        <span>ä¸»é¡µ</span>
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-search"></i>
                        <span>æœç´¢</span>
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-star"></i>
                        <span>æ”¶è—å¤¹</span>
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-trash"></i>
                        <span>å›æ”¶ç«™</span>
                    </div>
                </div>

                <!-- ç§äººæ–‡æ¡£ -->
                <div class="mb-4">
                    <div class="sidebar-item">
                        <i class="fas fa-user"></i>
                        <span>ç§äºº</span>
                    </div>
                    <!-- æ–‡æ¡£æ ‘ -->
                    <div class="ml-3 mt-1 space-y-0.5">
                        <div class="sidebar-item active">
                            <i class="fas fa-file-alt text-xs"></i>
                            <span class="flex-1 truncate">Synoteè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦</span>
                            <div class="status-dot status-online"></div>
                        </div>
                        <div class="sidebar-item">
                            <i class="fas fa-file-alt text-xs"></i>
                            <span class="flex-1 truncate">Synoteæ¦‚è¦è®¾è®¡è¯´æ˜ä¹¦</span>
                            <div class="status-dot status-offline"></div>
                        </div>
                        <div class="sidebar-item">
                            <i class="fas fa-file-alt text-xs"></i>
                            <span class="flex-1 truncate">å‰ç«¯ä»£ç è§„èŒƒ</span>
                            <div class="status-dot status-syncing"></div>
                        </div>
                    </div>
                </div>

                <!-- å›¢é˜Ÿåä½œåŒº -->
                <div class="mb-4">
                    <div class="sidebar-item">
                        <i class="fas fa-users"></i>
                        <span>å›¢é˜Ÿåä½œåŒº</span>
                    </div>
                    <!-- æ–‡æ¡£æ ‘ -->
                    <div class="ml-3 mt-1 space-y-0.5">
                        <div class="sidebar-item">
                            <i class="fas fa-folder text-xs"></i>
                            <span class="flex-1 truncate">FeBlueçš„å·¥ä½œç©ºé—´</span>
                        </div>
                        <div class="sidebar-item">
                            <i class="fas fa-file-alt text-xs"></i>
                            <span class="flex-1 truncate">é¡¹ç›®æ–‡æ¡£</span>
                            <div class="status-dot status-online"></div>
                        </div>
                        <div class="sidebar-item">
                            <i class="fas fa-file-alt text-xs"></i>
                            <span class="flex-1 truncate">åŠŸèƒ½æ¸…å•</span>
                            <div class="status-dot status-online"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- é¡¶éƒ¨æ  -->
            <div class="h-12 border-b border-synote-border flex items-center justify-between px-4 bg-white">
                <!-- é¢åŒ…å±‘å¯¼èˆª -->
                <div class="flex items-center gap-2 text-sm text-synote-textLight">
                    <span>ç§äºº</span>
                    <span>â€º</span>
                    <span>Synoteè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦</span>
                </div>

                <!-- åä½œæ  -->
                <div class="flex items-center gap-3">
                    <!-- åä½œè€…å¤´åƒ -->
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=24&h=24&q=80" 
                             class="w-6 h-6 rounded-full border-2 border-white" alt="ç”¨æˆ·å¤´åƒ">
                        <div class="absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-green-500 rounded-full border border-white"></div>
                    </div>
                    
                    <!-- åŒæ­¥çŠ¶æ€ -->
                    <div class="flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-green-50 text-green-700" id="sync-status">
                        <i class="fas fa-globe"></i>
                        <span>å·²åŒæ­¥</span>
                    </div>
                    
                    <!-- åˆ†äº«æŒ‰é’® -->
                    <button class="toolbar-btn">
                        <i class="fas fa-share-alt"></i>
                    </button>
                    
                    <!-- æ›´å¤šé€‰é¡¹ -->
                    <button class="toolbar-btn">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
            </div>

            <!-- ç¼–è¾‘å™¨å·¥å…·æ  -->
            <div class="border-b border-synote-border p-2 flex items-center gap-2 bg-white sticky top-0 z-10">
                <!-- æ’¤é”€/é‡åš -->
                <div class="flex items-center gap-1 pr-2 border-r border-synote-border">
                    <button class="toolbar-btn">
                        <i class="fas fa-undo"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
                
                <!-- æ–‡æœ¬æ ¼å¼ -->
                <div class="flex items-center gap-1 px-2 border-r border-synote-border">
                    <button class="toolbar-btn active">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-underline"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-strikethrough"></i>
                    </button>
                </div>
                
                <!-- æ ‡é¢˜ -->
                <div class="flex items-center gap-1 px-2 border-r border-synote-border">
                    <button class="toolbar-btn">H1</button>
                    <button class="toolbar-btn">H2</button>
                    <button class="toolbar-btn">H3</button>
                </div>
                
                <!-- æ’å…¥ -->
                <div class="flex items-center gap-1 px-2 border-r border-synote-border">
                    <button class="toolbar-btn">
                        <i class="fas fa-list"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-link"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-image"></i>
                    </button>
                    <button class="toolbar-btn">
                        <i class="fas fa-table"></i>
                    </button>
                </div>
                
                <!-- ç‰¹æ®ŠåŠŸèƒ½ -->
                <div class="flex items-center gap-1 px-2">
                    <button class="toolbar-btn">@</button>
                    <button class="toolbar-btn">/</button>
                </div>
            </div>

            <!-- ç¼–è¾‘å™¨å®¹å™¨ -->
            <div class="flex-1 flex overflow-hidden">
                <!-- ç¼–è¾‘å™¨ä¸»ä½“ -->
                <div class="flex-1 overflow-y-auto p-10 md:px-24" id="editor-main">
                    <!-- æ–‡æ¡£æ ‡é¢˜ -->
                    <input type="text" class="w-full text-4xl font-bold mb-4 bg-transparent border-none outline-none" 
                           value="Synoteè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦" placeholder="æ— æ ‡é¢˜">
                    
                    <!-- ç¼–è¾‘å™¨å†…å®¹ -->
                    <div class="prose prose-lg max-w-none" contenteditable="true">
                        <h1>1. å¼•è¨€</h1>
                        
                        <h2>1.1 ç¼–å†™ç›®çš„</h2>
                        <p>æœ¬æ–‡æ¡£è¯¦ç»†æè¿°<strong>Synote</strong>å¤šäººåä½œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„åŠŸèƒ½éœ€æ±‚ã€æ€§èƒ½æŒ‡æ ‡åŠç³»ç»Ÿè®¾è®¡ï¼Œç›®æ ‡è¯»è€…åŒ…æ‹¬å¼€å‘å›¢é˜Ÿã€é¡¹ç›®ç®¡ç†è€…åŠç»´æŠ¤äººå‘˜ã€‚</p>
                        
                        <h2>1.2 èƒŒæ™¯</h2>
                        <p><strong>Synote</strong>æ˜¯ä¸€æ¬¾è½»é‡çº§å¤šäººåä½œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå®šä½ä¸ºç±»Notionçš„åŸºç¡€ä½“éªŒå·¥å…·ï¼Œæ”¯æŒæ–‡æ¡£ç®¡ç†ã€å®æ—¶åä½œåŠå›¢é˜ŸååŒã€‚</p>
                        
                        <ul>
                            <li><strong>æ ¸å¿ƒè®¾è®¡</strong>ï¼šæ‰€æœ‰æ–‡æ¡£ï¼ˆåŒ…æ‹¬å•äººæ–‡æ¡£ï¼‰å‡ä¸ºå®æ—¶åä½œæ–‡æ¡£ï¼Œé‡‡ç”¨Yjs CRDTåŒæ­¥åè®®</li>
                            <li><strong>ä»»åŠ¡æå‡ºè€…</strong>ï¼šäº§å“ç®¡ç†å›¢é˜Ÿ</li>
                            <li><strong>å¼€å‘è€…</strong>ï¼šç‹¬ç«‹å¼€å‘ç»„</li>
                            <li><strong>ç”¨æˆ·</strong>ï¼šçŸ¥è¯†å·¥ä½œè€…ã€é¡¹ç›®å›¢é˜Ÿ</li>
                            <li><strong>è¿è¡Œç¯å¢ƒ</strong>ï¼šWebç«¯ï¼ˆVue.jså‰ç«¯ + NestJSåç«¯ + PostgreSQL + Yjsï¼‰</li>
                        </ul>

                        <h2>1.3 å®šä¹‰</h2>
                        <table class="border-collapse w-full my-4">
                            <thead class="bg-synote-sidebar">
                                <tr>
                                    <th class="border border-synote-border p-2 text-left">æœ¯è¯­</th>
                                    <th class="border border-synote-border p-2 text-left">å®šä¹‰</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border border-synote-border p-2">å¯Œæ–‡æœ¬ç¼–è¾‘</td>
                                    <td class="border border-synote-border p-2">æ”¯æŒæ–‡æœ¬æ ¼å¼ã€å¤šåª’ä½“åµŒå…¥ã€Markdownå¿«æ·è¾“å…¥çš„ç¼–è¾‘èƒ½åŠ›</td>
                                </tr>
                                <tr>
                                    <td class="border border-synote-border p-2">å®æ—¶åä½œ</td>
                                    <td class="border border-synote-border p-2">å¤šç”¨æˆ·åŒæ­¥ç¼–è¾‘åŒä¸€æ–‡æ¡£ï¼Œå»¶è¿Ÿä½äº300ms</td>
                                </tr>
                                <tr>
                                    <td class="border border-synote-border p-2">ç¦»çº¿æ¨¡å¼</td>
                                    <td class="border border-synote-border p-2">ç½‘ç»œä¸­æ–­æ—¶è‡ªåŠ¨åˆ‡æ¢è‡³æœ¬åœ°ä¿å­˜ï¼Œéœ€ç”¨æˆ·æ‰‹åŠ¨è§¦å‘åŒæ­¥</td>
                                </tr>
                            </tbody>
                        </table>

                        <h1>2. ä»»åŠ¡æ¦‚è¿°</h1>
                        
                        <h2>2.1 ç›®æ ‡</h2>
                        <p>å¼€å‘æ”¯æŒå¤šäººå®æ—¶åä½œçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
                        
                        <ul>
                            <li>å¯Œæ–‡æœ¬ç¼–è¾‘ï¼ˆæ ¼å¼æ§åˆ¶ã€å¤šåª’ä½“åµŒå…¥ï¼‰</li>
                            <li>æ–‡æ¡£ä¸å·¥ä½œåŒºç®¡ç†</li>
                            <li>æƒé™åˆ†çº§åä½œï¼ˆç¼–è¾‘è€…/æŸ¥çœ‹è€…/æ‰€æœ‰è€…ï¼‰</li>
                            <li>æ‰€æœ‰æ–‡æ¡£é»˜è®¤å¯ç”¨å®æ—¶åä½œæ¶æ„ï¼ˆå•äººæ–‡æ¡£å³æœ€å°åä½œå•å…ƒï¼‰</li>
                            <li>ç¦»çº¿/åœ¨çº¿æ··åˆä¿å­˜æœºåˆ¶</li>
                        </ul>

                        <blockquote class="border-l-4 border-synote-border pl-4 my-4 text-synote-textLight italic">
                            ğŸ’¡ æç¤ºï¼šè¾“å…¥ "/" å¯ä»¥å¿«é€Ÿæ’å…¥å†…å®¹å—ï¼Œè¾“å…¥ "@" å¯ä»¥æåŠåä½œè€…
                        </blockquote>
                    </div>
                </div>

                <!-- å³ä¾§è¾¹æ  -->
                <div class="w-60 bg-synote-sidebar border-l border-synote-border p-4 overflow-y-auto hidden md:block" id="right-sidebar">
                    <!-- ç›®å½• -->
                    <div class="mb-6">
                        <h3 class="text-xs font-semibold text-synote-textLight uppercase tracking-wider mb-2">ç›®å½•</h3>
                        <div class="space-y-0.5">
                            <div class="outline-item outline-h1">1. å¼•è¨€</div>
                            <div class="outline-item outline-h2">1.1 ç¼–å†™ç›®çš„</div>
                            <div class="outline-item outline-h2">1.2 èƒŒæ™¯</div>
                            <div class="outline-item outline-h2">1.3 å®šä¹‰</div>
                            <div class="outline-item outline-h1">2. ä»»åŠ¡æ¦‚è¿°</div>
                            <div class="outline-item outline-h2">2.1 ç›®æ ‡</div>
                            <div class="outline-item outline-h2">2.2 ç”¨æˆ·ç‰¹ç‚¹</div>
                            <div class="outline-item outline-h2">2.3 å‡å®šå’Œçº¦æŸ</div>
                        </div>
                    </div>

                    <!-- æ–‡æ¡£ä¿¡æ¯ -->
                    <div class="mb-6">
                        <h3 class="text-xs font-semibold text-synote-textLight uppercase tracking-wider mb-2">æ–‡æ¡£ä¿¡æ¯</h3>
                        <div class="text-xs text-synote-textLight">
                            <div class="flex justify-between mb-1">
                                <span>åˆ›å»ºæ—¶é—´</span>
                                <span>2023-10-15</span>
                            </div>
                            <div class="flex justify-between mb-1">
                                <span>æœ€åç¼–è¾‘</span>
                                <span>25åˆ†é’Ÿå‰</span>
                            </div>
                            <div class="flex justify-between mb-1">
                                <span>å­—æ•°ç»Ÿè®¡</span>
                                <span id="word-count">1,247å­—</span>
                            </div>
                            <div class="flex justify-between mb-1">
                                <span>åä½œè€…</span>
                                <span>1äºº</span>
                            </div>
                        </div>
                    </div>

                    <!-- åä½œè€… -->
                    <div>
                        <h3 class="text-xs font-semibold text-synote-textLight uppercase tracking-wider mb-2">åä½œè€…</h3>
                        <div class="flex items-center gap-2 mb-2">
                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=24&h=24&q=80" 
                                 class="w-6 h-6 rounded-full" alt="ç”¨æˆ·å¤´åƒ">
                            <div>
                                <div class="text-sm font-medium">å¼ ä¸‰</div>
                                <div class="text-xs text-synote-textLight">æ‰€æœ‰è€… â€¢ åœ¨çº¿</div>
                            </div>
                        </div>
                        <button class="w-full py-1.5 px-3 border border-synote-border bg-white rounded text-sm hover:bg-synote-hover transition-colors">
                            é‚€è¯·åä½œè€…
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æµ®åŠ¨æ“ä½œæŒ‰é’® -->
    <button id="fab-button" class="fixed bottom-6 right-6 w-14 h-14 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg flex items-center justify-center text-2xl transform hover:scale-105 transition-all z-50">
        <i class="fas fa-plus"></i>
    </button>

    <!-- @æåŠå¼¹çª— -->
    <div id="mention-popup" class="hidden absolute bg-white border border-synote-border rounded-lg shadow-lg p-2 z-50 w-64">
        <div class="mention-item">
            <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&auto=format&fit=crop&w=24&h=24&q=80" 
                 class="w-6 h-6 rounded-full" alt="ç”¨æˆ·å¤´åƒ">
            <div>
                <div class="font-medium">æå››</div>
                <div class="text-xs text-synote-textLight">ç¼–è¾‘è€…</div>
            </div>
        </div>
        <div class="mention-item">
            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=24&h=24&q=80" 
                 class="w-6 h-6 rounded-full" alt="ç”¨æˆ·å¤´åƒ">
            <div>
                <div class="font-medium">ç‹äº”</div>
                <div class="text-xs text-synote-textLight">æŸ¥çœ‹è€…</div>
            </div>
        </div>
    </div>

    <!-- æ–°å»ºæ–‡æ¡£èœå• -->
    <div id="new-doc-menu" class="hidden absolute bg-white border border-synote-border rounded-lg shadow-lg p-2 z-50 w-64">
        <div class="p-2 text-sm font-medium border-b border-synote-border mb-2">æ–°å»ºæ–‡æ¡£</div>
        <div class="mention-item">
            <i class="fas fa-file-alt text-primary-500"></i>
            <span>ç©ºç™½æ–‡æ¡£</span>
        </div>
        <div class="mention-item">
            <i class="fas fa-clipboard-list text-primary-500"></i>
            <span>ä¼šè®®è®°å½•æ¨¡æ¿</span>
        </div>
        <div class="mention-item">
            <i class="fas fa-book text-primary-500"></i>
            <span>è¯»ä¹¦ç¬”è®°æ¨¡æ¿</span>
        </div>
        <div class="mention-item">
            <i class="fas fa-tasks text-primary-500"></i>
            <span>é¡¹ç›®è®¡åˆ’æ¨¡æ¿</span>
        </div>
    </div>

    <!-- å†²çªè§£å†³æ¨¡æ€æ¡† -->
    <div id="conflict-modal" class="modal hidden">
        <div class="modal-content">
            <h3 class="text-lg font-semibold mb-4">æ£€æµ‹åˆ°ç¼–è¾‘å†²çª</h3>
            <p class="mb-4">æ‚¨çš„ç¦»çº¿ç¼–è¾‘ä¸å…¶ä»–åä½œè€…çš„æ›´æ”¹å­˜åœ¨å†²çªï¼Œè¯·é€‰æ‹©ä¿ç•™ç‰ˆæœ¬ï¼š</p>
            
            <div class="border border-synote-border rounded-md mb-4">
                <div class="bg-synote-sidebar p-2 text-sm font-medium">æ‚¨çš„ç‰ˆæœ¬</div>
                <div class="p-3 bg-green-50">
                    <p>å¼€å‘æ”¯æŒå¤šäººå®æ—¶åä½œçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œ<span class="bg-green-200">æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘ã€æ–‡æ¡£ç®¡ç†å’Œå®æ—¶åä½œ</span>ã€‚</p>
                </div>
            </div>
            
            <div class="border border-synote-border rounded-md mb-4">
                <div class="bg-synote-sidebar p-2 text-sm font-medium">æœåŠ¡å™¨ç‰ˆæœ¬</div>
                <div class="p-3 bg-blue-50">
                    <p>å¼€å‘æ”¯æŒå¤šäººå®æ—¶åä½œçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œ<span class="bg-blue-200">æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘ã€å·¥ä½œåŒºç®¡ç†ã€æƒé™åˆ†çº§åä½œã€å®æ—¶åä½œæ¶æ„å’Œæ··åˆä¿å­˜æœºåˆ¶</span>ã€‚</p>
                </div>
            </div>
            
            <div class="flex justify-end gap-2 mt-4">
                <button class="px-4 py-2 border border-synote-border rounded hover:bg-synote-hover">ä¿ç•™æˆ‘çš„ç‰ˆæœ¬</button>
                <button class="px-4 py-2 border border-synote-border rounded hover:bg-synote-hover">ä¿ç•™æœåŠ¡å™¨ç‰ˆæœ¬</button>
                <button class="px-4 py-2 bg-primary-500 text-white rounded hover:bg-primary-600">æ™ºèƒ½åˆå¹¶</button>
            </div>
        </div>
    </div>

    <!-- ç¦»çº¿æ¨¡å¼æç¤º -->
    <div id="offline-notification" class="hidden fixed top-4 right-4 bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-2 rounded-md shadow-md z-50 flex items-center gap-2">
        <i class="fas fa-exclamation-triangle"></i>
        <span>ç½‘ç»œè¿æ¥å·²æ–­å¼€ï¼Œå·²åˆ‡æ¢è‡³ç¦»çº¿æ¨¡å¼</span>
    </div>

    <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
    <button id="mobile-menu-btn" class="md:hidden fixed top-3 left-3 z-50 bg-white border border-synote-border rounded p-2">
        <i class="fas fa-bars"></i>
    </button>

    <!-- ç§»åŠ¨ç«¯ä¾§è¾¹æ åˆ‡æ¢ -->
    <div id="mobile-sidebar-toggle" class="md:hidden fixed bottom-6 left-6 bg-white border border-synote-border rounded-full shadow-md p-3 z-40">
        <i class="fas fa-columns"></i>
    </div>

    <script>
        // æ¨¡æ‹Ÿå®æ—¶åä½œçŠ¶æ€
        function updateCollaborationStatus() {
            const statuses = document.querySelectorAll('.status-dot');
            const statusClasses = ['status-online', 'status-offline', 'status-syncing'];
            
            statuses.forEach(status => {
                // éšæœºæ”¹å˜çŠ¶æ€
                if (Math.random() > 0.8) {
                    status.className = 'status-dot ' + statusClasses[Math.floor(Math.random() * statusClasses.length)];
                }
            });
        }

        // æ¨¡æ‹ŸåŒæ­¥çŠ¶æ€æ›´æ–°
        function updateSyncStatus() {
            const syncStatus = document.getElementById('sync-status');
            const isOnline = Math.random() > 0.1; // 90%æ¦‚ç‡åœ¨çº¿
            
            if (isOnline) {
                syncStatus.className = 'flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-green-50 text-green-700';
                syncStatus.innerHTML = '<i class="fas fa-globe"></i><span>å·²åŒæ­¥</span>';
            } else {
                syncStatus.className = 'flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-yellow-50 text-yellow-700';
                syncStatus.innerHTML = '<i class="fas fa-mobile-alt"></i><span>ç¦»çº¿ç¼–è¾‘ (å¾…åŒæ­¥: 3)</span>';
                
                // æ˜¾ç¤ºç¦»çº¿é€šçŸ¥
                document.getElementById('offline-notification').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('offline-notification').classList.add('hidden');
                }, 3000);
            }
        }

        // å¤„ç†@æåŠ
        function handleMentions() {
            const editor = document.querySelector('[contenteditable="true"]');
            const mentionPopup = document.getElementById('mention-popup');
            
            editor.addEventListener('input', function(e) {
                const selection = window.getSelection();
                const range = selection.getRangeAt(0);
                const text = editor.textContent;
                
                // æ£€æŸ¥æ˜¯å¦è¾“å…¥äº†@
                if (text.includes('@')) {
                    const rect = range.getBoundingClientRect();
                    mentionPopup.style.display = 'block';
                    mentionPopup.style.top = `${rect.bottom + window.scrollY + 10}px`;
                    mentionPopup.style.left = `${rect.left + window.scrollX}px`;
                    
                    // ç‚¹å‡»æåŠé¡¹æ’å…¥ç”¨æˆ·
                    document.querySelectorAll('.mention-item').forEach(item => {
                        item.addEventListener('click', function() {
                            const userName = this.querySelector('div > div:first-child').textContent;
                            document.execCommand('insertHTML', false, `<span class="bg-blue-100 text-blue-800 px-1 rounded">@${userName}</span>&nbsp;`);
                            mentionPopup.style.display = 'none';
                        });
                    });
                } else {
                    mentionPopup.style.display = 'none';
                }
            });
            
            // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­æåŠå¼¹çª—
            document.addEventListener('click', function(e) {
                if (!mentionPopup.contains(e.target) && e.target !== editor) {
                    mentionPopup.style.display = 'none';
                }
            });
        }

        // å·¥å…·æ åŠŸèƒ½
        function setupToolbar() {
            const toolbarBtns = document.querySelectorAll('.toolbar-btn');
            
            toolbarBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // åˆ‡æ¢æ ¼å¼æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
                    if (this.querySelector('i') && ['fa-bold', 'fa-italic', 'fa-underline', 'fa-strikethrough'].includes(this.querySelector('i').className.split(' ').pop())) {
                        this.classList.toggle('active');
                    }
                    
                    // æ¨¡æ‹Ÿæ ¼å¼æ“ä½œ
                    console.log('å·¥å…·æ æ“ä½œ:', this.textContent || this.querySelector('i').className);
                });
            });
        }

        // æ–°å»ºæ–‡æ¡£èœå•
        function setupNewDocumentMenu() {
            const fabButton = document.getElementById('fab-button');
            const newDocMenu = document.getElementById('new-doc-menu');
            
            fabButton.addEventListener('click', function(e) {
                e.stopPropagation();
                newDocMenu.style.display = newDocMenu.style.display === 'block' ? 'none' : 'block';
                newDocMenu.style.bottom = `${fabButton.offsetHeight + 16}px`;
                newDocMenu.style.right = '24px';
            });
            
            // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­èœå•
            document.addEventListener('click', function(e) {
                if (!newDocMenu.contains(e.target) && e.target !== fabButton) {
                    newDocMenu.style.display = 'none';
                }
            });
            
            // ç‚¹å‡»èœå•é¡¹åˆ›å»ºæ–‡æ¡£
            document.querySelectorAll('#new-doc-menu .mention-item').forEach(item => {
                item.addEventListener('click', function() {
                    const docType = this.querySelector('span').textContent;
                    alert(`åˆ›å»ºæ–°${docType}`);
                    newDocMenu.style.display = 'none';
                });
            });
        }

        // å­—æ•°ç»Ÿè®¡æ›´æ–°
        function updateWordCount() {
            const content = document.querySelector('[contenteditable="true"]');
            const wordCountElement = document.getElementById('word-count');
            
            if (content && wordCountElement) {
                const text = content.textContent || content.innerText;
                const wordCount = text.trim().split(/\s+/).length;
                wordCountElement.textContent = `${wordCount}å­—`;
            }
        }

        // æ¨¡æ‹Ÿå†²çªè§£å†³
        function setupConflictDemo() {
            // éšæœºè§¦å‘å†²çªè§£å†³æ¨¡æ€æ¡†
            setTimeout(() => {
                if (Math.random() > 0.7) { // 30%æ¦‚ç‡æ˜¾ç¤ºå†²çª
                    document.getElementById('conflict-modal').classList.remove('hidden');
                }
            }, 15000); // 15ç§’åå¯èƒ½è§¦å‘
            
            // å…³é—­æ¨¡æ€æ¡†
            document.querySelectorAll('#conflict-modal button').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.getElementById('conflict-modal').classList.add('hidden');
                    // æ›´æ–°åŒæ­¥çŠ¶æ€ä¸ºå·²åŒæ­¥
                    const syncStatus = document.getElementById('sync-status');
                    syncStatus.className = 'flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-green-50 text-green-700';
                    syncStatus.innerHTML = '<i class="fas fa-globe"></i><span>å·²åŒæ­¥</span>';
                });
            });
        }

        // ç§»åŠ¨ç«¯ä¾§è¾¹æ åˆ‡æ¢
        function setupMobileNavigation() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const leftSidebar = document.getElementById('left-sidebar');
            const mobileSidebarToggle = document.getElementById('mobile-sidebar-toggle');
            const rightSidebar = document.getElementById('right-sidebar');
            
            // å·¦ä¾§è¾¹æ åˆ‡æ¢
            mobileMenuBtn.addEventListener('click', function() {
                leftSidebar.classList.toggle('-translate-x-full');
                if (rightSidebar.classList.contains('translate-x-full')) {
                    rightSidebar.classList.add('hidden');
                    rightSidebar.classList.remove('translate-x-full');
                }
            });
            
            // å³ä¾§è¾¹æ åˆ‡æ¢
            mobileSidebarToggle.addEventListener('click', function() {
                rightSidebar.classList.toggle('hidden');
                rightSidebar.classList.toggle('translate-x-full');
                if (!leftSidebar.classList.contains('-translate-x-full')) {
                    leftSidebar.classList.add('-translate-x-full');
                }
            });
            
            // ç‚¹å‡»å†…å®¹åŒºåŸŸå…³é—­ä¾§è¾¹æ 
            document.getElementById('editor-main').addEventListener('click', function() {
                if (!leftSidebar.classList.contains('-translate-x-full')) {
                    leftSidebar.classList.add('-translate-x-full');
                }
                if (!rightSidebar.classList.contains('hidden')) {
                    rightSidebar.classList.add('hidden');
                    rightSidebar.classList.remove('translate-x-full');
                }
            });
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            setupToolbar();
            handleMentions();
            setupNewDocumentMenu();
            setupConflictDemo();
            setupMobileNavigation();
            
            // æ›´æ–°åä½œçŠ¶æ€
            setInterval(updateCollaborationStatus, 5000);
            
            // æ›´æ–°åŒæ­¥çŠ¶æ€
            setInterval(updateSyncStatus, 10000);
            
            // æ›´æ–°å­—æ•°ç»Ÿè®¡
            const editor = document.querySelector('[contenteditable="true"]');
            if (editor) {
                editor.addEventListener('input', updateWordCount);
                updateWordCount(); // åˆå§‹è®¡æ•°
            }
            
            // ç§»åŠ¨ç«¯åˆå§‹åŒ–
            if (window.innerWidth <= 768) {
                document.getElementById('left-sidebar').classList.add('-translate-x-full');
            }
        });

        // å¤„ç†çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                document.getElementById('left-sidebar').classList.remove('-translate-x-full');
                document.getElementById('right-sidebar').classList.remove('hidden');
            } else {
                document.getElementById('left-sidebar').classList.add('-translate-x-full');
            }
        });
    </script>
</body>
</html>